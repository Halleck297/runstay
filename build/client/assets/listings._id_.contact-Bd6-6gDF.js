import{w as j,u as v,a as N,b as w,r as x,j as e,L as h,F as k}from"./chunk-JZWAC4HX-Dc7zMzt7.js";const C=({data:a})=>{var t,n;return[{title:`Contact Seller - ${((n=(t=a==null?void 0:a.listing)==null?void 0:t.event)==null?void 0:n.name)||"Runoot"}`}]},L=j(function(){var c,d,m;const{listing:t,userProfile:n,sent:u}=v(),l=N(),g=w(),s=x.useRef(null),i=g.state==="submitting",r=u,p=t.author.company_name||((c=t.author.full_name)==null?void 0:c.split(" ")[0])||"there",f=t.event.name,b=`Hello ${p}, I'm writing to you about the listing for ${f}. `,y=o=>{o.target.style.height="auto",o.target.style.height=Math.min(o.target.scrollHeight,200)+"px"};return x.useEffect(()=>{s.current&&!r&&(s.current.focus(),s.current.selectionStart=s.current.value.length,s.current.selectionEnd=s.current.value.length,s.current.style.height="auto",s.current.style.height=Math.min(s.current.scrollHeight,200)+"px")},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Message Sent!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The seller will be notified and can reply to your message."}),e.jsx(h,{to:"/listings",className:"btn-primary w-full py-3 text-base font-semibold rounded-full block text-center",children:"Back to Listings"})]})}),e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center gap-4",children:[e.jsx(h,{to:`/listings/${t.id}`,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h1",{className:"font-display text-lg font-semibold text-gray-900",children:"New Message"})]})}),e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-brand-100 text-brand-700 font-semibold flex-shrink-0",children:((d=t.author.company_name)==null?void 0:d.charAt(0))||((m=t.author.full_name)==null?void 0:m.charAt(0))||"?"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("p",{className:"font-semibold text-gray-900 truncate",children:t.author.company_name||t.author.full_name}),t.author.is_verified&&e.jsx("svg",{className:"h-4 w-4 text-brand-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),e.jsx("p",{className:"text-sm text-gray-500",children:t.author.user_type==="tour_operator"?"Tour Operator":"Private Seller"})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Regarding: ",e.jsx("span",{className:"text-gray-700 font-medium",children:t.event.name})]})})]}),e.jsxs(k,{method:"post",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("textarea",{ref:s,name:"message",defaultValue:b,placeholder:"Write your message...",required:!0,rows:4,className:"w-full px-4 py-4 text-gray-900 placeholder-gray-400 resize-none focus:outline-none min-h-[120px]",disabled:i||r,onChange:y})}),l&&"error"in l&&l.error&&e.jsx("div",{className:"mt-3 rounded-lg bg-red-50 p-3 text-sm text-red-700",children:l.error}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"submit",disabled:i||r,className:"btn-primary w-full py-3.5 text-base font-semibold rounded-full shadow-lg shadow-brand-500/25 disabled:opacity-50",children:i?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Message"})})]}),e.jsx("p",{className:"mt-4 text-center text-xs text-gray-500",children:"Be clear about what you're looking for. Include any questions about availability or details."})]})]})});export{L as default,C as meta};
