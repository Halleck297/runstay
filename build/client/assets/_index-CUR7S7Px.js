import{w as S,u as k,c as E,r as s,j as e,F as I,L as d}from"./chunk-JZWAC4HX-Wpy6LLBq.js";import{H as R}from"./Header-DbNBnIdE.js";import{L as _}from"./ListingCard-UlCRqv1D.js";import{L as A}from"./ListingCardCompact-Bf9JPoRI.js";const B=()=>[{title:"Runoot - Room & Bibs Exchange Marketplace"},{name:"description",content:"Exchange unsold hotel rooms and bibs for running events. Connect tour operators and runners."}],U=S(function(){const{user:a,listings:i,savedListingIds:x,events:b}=k(),f=E(),c=s.useRef(null),[l,m]=s.useState(""),[j,o]=s.useState(!1),[u,y]=s.useState(0),[w,v]=s.useState(0),[N,g]=s.useState(!1),[L,p]=s.useState(!1),n=[{subject:"Rooms",subjectColor:"text-brand-200",verb:"Empty"},{subject:"Bibs",subjectColor:"text-purple-300",verb:"Wasted"}];s.useEffect(()=>{const t=setInterval(()=>{g(!0),setTimeout(()=>{y(r=>(r+1)%n.length),g(!1)},600),setTimeout(()=>{p(!0),setTimeout(()=>{v(r=>(r+1)%n.length),p(!1)},600)},900)},4e3);return()=>clearInterval(t)},[]);const h=l.length>=2?b.filter(t=>t.name.toLowerCase().includes(l.toLowerCase())||t.country.toLowerCase().includes(l.toLowerCase())).slice(0,5):[];s.useEffect(()=>{function t(r){c.current&&!c.current.contains(r.target)&&o(!1)}return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const C=t=>{m(t),o(!1),f(`/listings?search=${encodeURIComponent(t)}`)};return e.jsxs("div",{className:"min-h-full",children:[e.jsx(R,{user:a}),e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('/hero.jpg')] bg-cover bg-center"}),e.jsx("div",{className:"absolute inset-0 bg-brand-800/70"}),e.jsx("div",{className:"relative mx-auto max-w-7xl px-4 py-32 sm:py-40 lg:py-48 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"font-display text-5xl font-bold tracking-tight text-white sm:text-6xl lg:text-7xl [text-shadow:0_4px_20px_rgba(0,0,0,0.7)]",children:["Don't Let"," ",e.jsx("span",{className:"inline-block w-[140px] sm:w-[175px] lg:w-[210px] text-left",children:e.jsx("span",{className:`inline-block ${n[u].subjectColor} transition-all duration-500 ${N?"opacity-0 translate-y-2":"opacity-100 translate-y-0"}`,children:n[u].subject})}),e.jsxs("span",{className:"block",children:["Go"," ",e.jsx("span",{className:"inline-block w-[145px] sm:w-[185px] lg:w-[225px] text-left",children:e.jsx("span",{className:`inline-block text-accent-400 transition-all duration-500 ${L?"opacity-0 translate-y-2":"opacity-100 translate-y-0"}`,children:n[w].verb})})]})]}),e.jsxs("p",{className:"mx-auto mt-6 max-w-2xl text-xl sm:text-2xl text-white [text-shadow:0_4px_16px_rgba(0,0,0,0.6)]",children:[e.jsx("span",{className:"font-bold",children:"Your race, your community."}),e.jsx("br",{}),"Exchange rooms and bibs directly with runners like you."]}),e.jsx("div",{className:"mt-10 mx-auto max-w-xl",children:e.jsxs(I,{method:"get",action:"/listings",className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1",ref:c,children:[e.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 z-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"search",name:"search",autoComplete:"off",placeholder:"Search by event name or location...",value:l,onChange:t=>{m(t.target.value),o(!0)},onFocus:()=>o(!0),className:"block w-full rounded-full border-0 pl-12 pr-4 py-3 text-gray-900 placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-white/30 transition-colors",style:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"}}),j&&h.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 z-20 overflow-hidden",children:h.map(t=>e.jsxs("button",{type:"button",onClick:()=>C(t.name),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 transition-colors",children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.country," • ",new Date(t.event_date).toLocaleDateString()]})]},t.id))})]}),e.jsx("button",{type:"submit",className:"px-6 py-3 bg-accent-500 text-white font-medium rounded-full hover:bg-accent-600 transition-all shadow-lg shadow-accent-500/30",children:"Search"})]})})]})})]}),i.length>0&&e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"font-display text-3xl font-bold text-gray-900",children:"Recent Listings"}),e.jsx(d,{to:a?"/listings":"/login",className:"px-6 py-2 bg-brand-500 text-white font-medium rounded-full hover:bg-brand-600 transition-all shadow-lg shadow-brand-500/30",children:"View all"})]}),e.jsx("div",{className:"mt-8 hidden md:grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(t=>e.jsx(_,{listing:t,isUserLoggedIn:!!a,isSaved:(x||[]).includes(t.id)},t.id))}),e.jsx("div",{className:"mt-6 flex flex-col gap-3 md:hidden",children:i.map(t=>e.jsx(A,{listing:t,isUserLoggedIn:!!a,isSaved:(x||[]).includes(t.id)},t.id))})]})}),e.jsx("section",{className:"py-20 bg-gray-900",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"font-display text-3xl font-bold text-white",children:"Ready to get started?"}),e.jsx("p",{className:"mt-4 text-lg text-gray-400",children:"Join tour operators and runners already using RunStay Exchange."}),e.jsx("div",{className:"mt-8",children:a?e.jsx(d,{to:"/listings/new",className:"btn-primary text-lg px-8 py-3",children:"Create a Listing"}):e.jsx(d,{to:"/register",className:"btn-primary text-lg px-8 py-3",children:"Create Free Account"})})]})}),e.jsx("footer",{className:"bg-gray-900 border-t border-gray-800",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:e.jsxs("p",{className:"text-center text-sm text-gray-500",children:["© ",new Date().getFullYear()," Runoot Exchange. Platform for informational purposes only. Transactions are between users."]})})})]})});export{U as default,B as meta};
