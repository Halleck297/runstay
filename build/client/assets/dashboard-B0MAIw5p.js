import{w as f,u as y,j as e,L as t}from"./chunk-JZWAC4HX-Dlc7LzsC.js";import{H as v}from"./Header-DiP6E3C1.js";import{L as u}from"./ListingCardCompact-zqsE7_pc.js";const C=()=>[{title:"Dashboard - Runoot"}],N={pending:"bg-yellow-100 text-yellow-700 border border-yellow-200",active:"bg-success-100 text-success-700 border border-success-200",sold:"bg-gray-100 text-gray-700 border border-gray-200",expired:"bg-alert-100 text-alert-700 border border-alert-200",rejected:"bg-red-100 text-red-700 border border-red-200"},$=f(function(){var b;const{user:r,listings:a,conversations:l,unreadCount:d}=y(),i=a.filter(s=>s.status==="pending"),g=a.filter(s=>s.status==="active"),j=a.filter(s=>s.status==="sold");return e.jsx("div",{className:"min-h-screen bg-gray-100 md:bg-[url('/savedBG.png')] md:bg-cover md:bg-center md:bg-fixed",children:e.jsxs("div",{className:"min-h-screen md:bg-gray-50/85",children:[e.jsx(v,{user:r}),e.jsxs("main",{className:"md:hidden px-4 pt-6 pb-20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h1",{className:"font-display text-lg font-bold text-gray-900",children:"Dashboard"}),e.jsxs(t,{to:"/listings/new",className:"bg-accent-500 text-white rounded-full px-3 py-1.5 flex items-center gap-1.5 text-xs font-medium shadow-sm active:bg-accent-600",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Listing"]})]}),i.length>0&&e.jsx("div",{className:"mb-4 bg-yellow-50 border border-yellow-200 rounded-xl p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-yellow-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[i.length," listing",i.length>1?"s":""," pending review"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[e.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-brand-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Active"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-success-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-success-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Sold"})]})]})}),e.jsx(t,{to:"/messages",className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 active:bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Chats"})]})]})}),e.jsx(t,{to:"/messages",className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 active:bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d>0?"bg-accent-100":"bg-gray-100"}`,children:e.jsx("svg",{className:`w-5 h-5 ${d>0?"text-accent-600":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-2xl font-bold ${d>0?"text-accent-600":"text-gray-900"}`,children:d}),e.jsx("p",{className:"text-xs text-gray-500",children:"Unread"})]})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"font-display font-semibold text-gray-900",children:"My Listings"}),a.length>3&&e.jsx(t,{to:"/my-listings",className:"text-sm text-brand-600 font-medium",children:"See all"})]}),a.length>0?e.jsx("div",{className:"space-y-3",children:a.slice(0,3).map(s=>e.jsxs("div",{className:"relative",children:[e.jsx(u,{listing:s,isUserLoggedIn:!0}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${N[s.status]}`,children:s.status})})]},s.id))}):e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center border border-gray-100",children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"No listings yet"}),e.jsx(t,{to:"/listings/new",className:"text-brand-600 text-sm font-medium mt-2 inline-block",children:"Create your first listing →"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"font-display font-semibold text-gray-900",children:"Recent Messages"}),l.length>0&&e.jsx(t,{to:"/messages",className:"text-sm text-brand-600 font-medium",children:"See all"})]}),l.length>0?e.jsx("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-100",children:l.slice(0,3).map((s,h)=>{var o,x,m;const c=(o=s.messages)==null?void 0:o[s.messages.length-1],n=(x=s.messages)==null?void 0:x.some(p=>p.sender_id!==r.id&&!p.read_at);return e.jsxs(t,{to:`/messages/${s.id}`,className:`flex items-center gap-3 p-4 active:bg-gray-50 ${h>0?"border-t border-gray-100":""}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${n?"bg-brand-100":"bg-gray-100"}`,children:e.jsx("svg",{className:`w-5 h-5 ${n?"text-brand-600":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm truncate ${n?"font-semibold text-gray-900":"text-gray-700"}`,children:((m=s.listing)==null?void 0:m.title)||"Conversation"}),c&&e.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:c.content})]}),n&&e.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-brand-500 flex-shrink-0"})]},s.id)})}):e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center border border-gray-100",children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"No conversations yet"}),e.jsx(t,{to:"/listings",className:"text-brand-600 text-sm font-medium mt-2 inline-block",children:"Browse listings →"})]})]})]}),e.jsxs("main",{className:"hidden md:block mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 bg-white/70 backdrop-blur-sm rounded-xl shadow-md p-6",children:[e.jsxs("h1",{className:"font-display text-3xl font-bold text-gray-900",children:["Welcome back, ",r.full_name||r.email.split("@")[0]]}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your listings and conversations"})]}),i.length>0&&e.jsxs("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-xl p-4 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-200 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-yellow-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-yellow-800",children:[i.length," listing",i.length>1?"s":""," pending review"]}),e.jsx("p",{className:"text-xs text-yellow-600",children:"We'll notify you once they're approved"})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Active Listings"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:g.length})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Sold"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:j.length})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Conversations"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:l.length})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Unread Messages"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-brand-600",children:d})]})]}),e.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[e.jsx("h2",{className:"font-display text-lg font-semibold text-gray-900",children:"My Listings"}),e.jsx(t,{to:"/listings/new",className:"text-sm font-medium text-brand-600 hover:text-brand-700",children:"+ New Listing"})]}),a.length>0?e.jsx("div",{className:"p-4 space-y-3",children:a.slice(0,5).map(s=>e.jsxs("div",{className:"relative",children:[e.jsx(u,{listing:s,isUserLoggedIn:!0}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold shadow-sm ${N[s.status]}`,children:s.status})})]},s.id))}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("p",{className:"text-gray-500",children:"No listings yet"}),e.jsx(t,{to:"/listings/new",className:"mt-4 inline-block text-brand-600 hover:text-brand-700 font-medium",children:"Create your first listing →"})]}),a.length>5&&e.jsx("div",{className:"p-4 border-t border-gray-100",children:e.jsxs(t,{to:"/my-listings",className:"text-sm text-gray-600 hover:text-gray-900",children:["View all ",a.length," listings →"]})})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[e.jsx("h2",{className:"font-display text-lg font-semibold text-gray-900",children:"Recent Messages"}),e.jsx(t,{to:"/messages",className:"text-sm font-medium text-brand-600 hover:text-brand-700",children:"View All"})]}),l.length>0?e.jsx("div",{className:"divide-y divide-gray-100",children:l.map(s=>{var n,o,x;const h=(n=s.messages)==null?void 0:n[s.messages.length-1],c=(o=s.messages)==null?void 0:o.some(m=>m.sender_id!==r.id&&!m.read_at);return e.jsx(t,{to:`/messages/${s.id}`,className:"block p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:`font-medium truncate ${c?"text-gray-900":"text-gray-600"}`,children:((x=s.listing)==null?void 0:x.title)||"Conversation"}),h&&e.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",children:h.content})]}),c&&e.jsx("span",{className:"ml-4 h-2.5 w-2.5 rounded-full bg-brand-500"})]})},s.id)})}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("p",{className:"text-gray-500",children:"No conversations yet"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Start by browsing listings"})]})]})]}),e.jsx("div",{className:"mt-8 card p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-brand-100 text-brand-700 font-bold text-2xl",children:((b=r.full_name)==null?void 0:b.charAt(0))||r.email.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:r.full_name||r.email}),e.jsx("p",{className:"text-gray-500",children:r.user_type==="tour_operator"?r.company_name||"Tour Operator":"Private Runner"}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:r.is_verified?e.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-brand-600",children:[e.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Verified"]}):e.jsx("span",{className:"text-sm text-gray-400",children:"Not verified"})})]})]}),e.jsx(t,{to:"/profile",className:"btn-secondary",children:"Edit Profile"})]})})]})]})})});export{$ as default,C as meta};
