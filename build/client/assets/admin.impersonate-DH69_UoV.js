import{w as l,u as d,f as m,j as e,F as n}from"./chunk-JZWAC4HX-Dlc7LzsC.js";const h=()=>[{title:"Impersonate - Admin - Runoot"}],o={tour_operator:"Tour Operator",private:"Runner"},p=l(function(){const{admin:t,users:a}=d(),[i]=m();return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"font-display text-2xl md:text-3xl font-bold text-gray-900",children:"Impersonate User"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"View and act as a user you created. Only admin-created users can be impersonated."})]}),e.jsx("div",{className:"mb-6 p-4 rounded-lg bg-amber-50 border border-amber-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Actions taken while impersonating will appear as if the user performed them."}),e.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"All impersonation sessions are logged in the audit trail."})]})]})}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 mb-6",children:e.jsxs(n,{method:"get",className:"flex gap-3",children:[e.jsx("input",{type:"text",name:"search",placeholder:"Search by name, email, or company...",defaultValue:i.get("search")||"",className:"input flex-1"}),e.jsx("button",{type:"submit",className:"btn-accent",children:"Search"})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"divide-y divide-gray-100",children:a.map(s=>{var r;return e.jsxs("div",{className:`p-4 flex items-center justify-between hover:bg-gray-50 transition-colors ${s.id===t.id?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-100 flex items-center justify-center text-brand-700 font-semibold flex-shrink-0",children:((r=s.full_name)==null?void 0:r.charAt(0))||s.email.charAt(0).toUpperCase()}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[s.full_name||"No name",s.company_name&&e.jsxs("span",{className:"text-gray-400 font-normal",children:[" 路 ",s.company_name]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("span",{className:"text-xs text-gray-500",children:s.email}),e.jsx("span",{className:"text-xs text-gray-300",children:"路"}),e.jsx("span",{className:"text-xs text-gray-500",children:o[s.user_type]}),s.is_verified&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-gray-300",children:"路"}),e.jsx("span",{className:"text-xs text-brand-600",children:"Verified"})]}),s.role!=="user"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-gray-300",children:"路"}),e.jsx("span",{className:"text-xs text-purple-600 font-medium",children:s.role})]})]})]})]}),s.id!==t.id?e.jsxs(n,{method:"post",className:"flex-shrink-0 ml-4",children:[e.jsx("input",{type:"hidden",name:"userId",value:s.id}),e.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-navy-700 rounded-lg hover:bg-navy-800 transition-colors",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Impersonate"]})]}):e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0 ml-4",children:"You"})]},s.id)})}),a.length===0&&e.jsxs("div",{className:"p-8 text-center text-gray-400 text-sm",children:["No admin-created users found. Create users from the ",e.jsx("a",{href:"/admin/users/new",className:"text-brand-600 hover:underline",children:"Users panel"})," to impersonate them."]})]})]})});export{p as default,h as meta};
