import{w as L,u as C,a as M,r as S,e as T,j as e,L as i,F as B}from"./chunk-JZWAC4HX-Dlc7LzsC.js";import{H as D}from"./Header-DiP6E3C1.js";import{F}from"./FooterLight-j7wjw8pq.js";const W=({data:t})=>{var a;return[{title:((a=t==null?void 0:t.listing)==null?void 0:a.title)||"Listing - Runoot"}]};function v(t){return t?{single:"Single",double:"Double",double_single_use:"Double Single Use",twin:"Twin",twin_shared:"Twin Shared",triple:"Triple",quadruple:"Quadruple"}[t]||t:"Room"}function $(t){const a=new Date,x=new Date(t).getTime()-a.getTime();return Math.ceil(x/(1e3*60*60*24))}function N(t){return t.slug?t.slug:t.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}const R=L(function(){var u,b,j,y;const{user:a,listing:g,isSaved:x}=C(),c=M(),[m,w]=S.useState(!1),h=T(),d=h.formData?h.formData.get("action")==="save":x,s=g,p=a,f=new Date(s.event.event_date);f.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"});const k=f.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),n=(p==null?void 0:p.id)===s.author_id;if($(s.event.event_date),s.listing_type==="room"){const r=s.check_in&&s.check_out?Math.ceil((new Date(s.check_out).getTime()-new Date(s.check_in).getTime())/864e5):0;`${v(s.room_type)}`,r>0&&`${r}`}else s.listing_type==="bib"&&(`${s.bib_count||1}`,(s.bib_count||1)>1);const _=s.hotel_stars?`Comparable ${s.hotel_stars}-star hotels from â‚¬${Math.round(s.hotel_stars*80+100)}`:"Comparable hotels from â‚¬200+";return e.jsx("div",{className:"min-h-screen bg-[url('/savedBG.png')] bg-cover bg-center bg-fixed",children:e.jsxs("div",{className:"min-h-screen bg-gray-50/85",children:[e.jsx(D,{user:a}),e.jsxs("main",{className:"mx-auto max-w-7xl px-4 py-6 pb-36 md:pb-6 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-4",children:e.jsxs(i,{to:"/listings",className:"inline-flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 underline",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to listings"]})}),e.jsxs("div",{className:"rounded-xl overflow-hidden shadow-[0_2px_8px_rgba(0,0,0,0.15)] mb-6",children:[e.jsx("img",{src:`/banners/${N(s.event)}.jpg`,alt:s.event.name,className:"w-full aspect-[3/1] object-cover",onError:r=>{const l=r.target;if(!l.dataset.triedFallback)l.dataset.triedFallback="true",l.src=`/events/${N(s.event)}.jpg`;else{l.style.display="none";const o=l.nextElementSibling;o&&(o.style.display="flex")}}}),e.jsx("div",{className:"w-full aspect-[3/1] bg-gradient-to-br from-brand-100 to-brand-200 items-center justify-center",style:{display:"none"},children:e.jsx("svg",{className:"h-16 w-16 text-brand-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[(s.listing_type==="room"||s.listing_type==="room_and_bib")&&e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-[0_2px_8px_rgba(0,0,0,0.15)] p-6",children:[e.jsx("h3",{className:"font-display text-lg font-semibold text-gray-900 pb-3 mb-6 border-b border-gray-200",children:"Hotel & Location"}),e.jsxs("div",{className:"space-y-5",children:[s.hotel_name&&e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100 text-gray-600 flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[s.hotel_website?e.jsxs("a",{href:s.hotel_website,target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 hover:text-brand-700 hover:underline inline-flex items-center gap-1",children:[s.hotel_name,e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}):s.hotel_name,s.hotel_rating&&e.jsxs("span",{className:"text-sm text-gray-500 font-normal ml-2",children:["â­ ",s.hotel_rating.toFixed(1)]})]}),(s.hotel_city||s.hotel_country)&&e.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:["ðŸ“ ",s.hotel_city||"",s.hotel_city&&s.hotel_country?", ":"",s.hotel_country||""]})]})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100 text-gray-600 flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 19h16M4 15h16M4 15V9a2 2 0 012-2h2a2 2 0 012 2v0M4 15V9m8-2h6a2 2 0 012 2v6M4 9h4m0 0a2 2 0 012 2v4"})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"font-semibold text-gray-900",children:[s.room_count||1," ",v(s.room_type)," room",(s.room_count||1)>1?"s":""]})})]}),s.check_in&&s.check_out&&(()=>{const r=new Date(s.check_in),l=new Date(s.check_out),o=Math.ceil((l.getTime()-r.getTime())/(1e3*60*60*24));return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100 text-gray-600 flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"font-semibold text-gray-900",children:[r.toLocaleDateString("en-GB",{day:"numeric",month:"short"})," â†’ ",l.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),e.jsxs("span",{className:"text-sm text-gray-500 font-normal ml-2",children:["(",o," night",o>1?"s":"",")"]})]})})]})})()]})]}),s.distance_to_finish&&e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-[0_2px_8px_rgba(0,0,0,0.15)] p-6",children:[e.jsx("h3",{className:"font-display text-lg font-semibold text-gray-900 mb-4",children:"Distance to Finish Line"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100 text-gray-700 flex-shrink-0",children:e.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.distance_to_finish<1e3?`${s.distance_to_finish}m`:`${(s.distance_to_finish/1e3).toFixed(1)}km`}),e.jsx("p",{className:"text-sm text-gray-500",children:"Straight-line distance"})]})]}),s.walking_duration&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100 text-gray-700 flex-shrink-0",children:e.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:[e.jsx("circle",{cx:"12",cy:"4.5",r:"2.5"}),e.jsx("path",{d:"M10.5 8.5L7 11l1.5 1.5 2.5-2v4l-3 5.5 1.5 1 3-5 3 5 1.5-1-3-5.5v-4l2.5 2L17 11l-3.5-2.5h-3z"})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[s.walking_duration," min"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Walking"})]})]}),s.transit_duration&&s.distance_to_finish>1e3&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100 text-gray-700 flex-shrink-0",children:e.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7v10M16 7v10M6 17h12M6 7h12a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V9a2 2 0 012-2z"}),e.jsx("circle",{cx:"8",cy:"19",r:"1.5",fill:"currentColor"}),e.jsx("circle",{cx:"16",cy:"19",r:"1.5",fill:"currentColor"})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[s.transit_duration," min"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Public transit"})]})]})]})]}),(s.listing_type==="bib"||s.listing_type==="room_and_bib")&&e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-[0_2px_8px_rgba(0,0,0,0.15)] p-6",children:[e.jsx("h3",{className:"font-display text-lg font-semibold text-gray-900 mb-4",children:"Bib Transfer Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-purple-100 text-purple-700 flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Available bibs"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:[s.bib_count||1," bib",(s.bib_count||1)>1?"s":""]})]})]}),s.transfer_type&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Transfer method"}),e.jsxs("p",{className:"text-sm text-blue-800",children:[s.transfer_type==="official_process"&&"âœ“ Official organizer name change process",s.transfer_type==="package"&&"âœ“ Included in complete race package",s.transfer_type==="contact"&&"Contact seller for transfer details"]})]})]})]}),s.description&&e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-[0_2px_8px_rgba(0,0,0,0.15)] p-6",children:[e.jsx("h3",{className:"font-display text-lg font-semibold text-gray-900 mb-3",children:"Additional Information"}),e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:s.description})]}),e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-[0_2px_8px_rgba(0,0,0,0.15)] p-6",children:[e.jsx("h3",{className:"font-display text-lg font-semibold text-gray-900 mb-4",children:"How to Complete This Transaction"}),s.listing_type==="room"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Follow these steps after agreeing with the seller:"}),e.jsxs("ol",{className:"space-y-3",children:[e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-brand-100 text-brand-700 text-sm font-semibold flex-shrink-0",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Confirm booking details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Verify check-in/out dates, room type, and hotel name with the seller."})]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-brand-100 text-brand-700 text-sm font-semibold flex-shrink-0",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Arrange name change"}),e.jsx("p",{className:"text-sm text-gray-600",children:"The seller will contact the hotel to transfer the reservation to your name. Some hotels may charge a fee."})]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-brand-100 text-brand-700 text-sm font-semibold flex-shrink-0",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Get written confirmation"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Request the updated booking confirmation directly from the hotel with your name."})]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-brand-100 text-brand-700 text-sm font-semibold flex-shrink-0",children:"4"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Complete payment"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pay the seller only after receiving the hotel confirmation. Use PayPal or bank transfer for safety."})]})]})]})]}),s.listing_type==="bib"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Follow these steps after agreeing with the seller:"}),e.jsxs("ol",{className:"space-y-3",children:[e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-purple-100 text-purple-700 text-sm font-semibold flex-shrink-0",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Check race transfer policy"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Visit the official race website to verify if bib transfers are allowed and the deadline."})]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-purple-100 text-purple-700 text-sm font-semibold flex-shrink-0",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Initiate official transfer"}),e.jsx("p",{className:"text-sm text-gray-600",children:"The seller must start the name change process through the race organizer's system. You may need to provide your details."})]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-purple-100 text-purple-700 text-sm font-semibold flex-shrink-0",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Receive confirmation"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Wait for official confirmation from the race organizer that the bib is now registered in your name."})]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-purple-100 text-purple-700 text-sm font-semibold flex-shrink-0",children:"4"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Complete payment"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pay the seller only after the transfer is confirmed. Use PayPal or bank transfer for safety."})]})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("span",{className:"font-medium",children:"Important:"})," Never run with someone else's bib without an official transfer. This violates race rules and insurance coverage."]})})]}),s.listing_type==="room_and_bib"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"This is a complete package. Follow these steps after agreeing with the seller:"}),e.jsxs("ol",{className:"space-y-3",children:[e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-green-100 text-green-700 text-sm font-semibold flex-shrink-0",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Verify package contents"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Confirm exactly what's included: hotel dates, room type, race bib, and any extras."})]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-green-100 text-green-700 text-sm font-semibold flex-shrink-0",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Start bib transfer first"}),e.jsx("p",{className:"text-sm text-gray-600",children:"The race bib transfer often has strict deadlines. The seller should initiate this through the official organizer."})]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-green-100 text-green-700 text-sm font-semibold flex-shrink-0",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Transfer hotel booking"}),e.jsx("p",{className:"text-sm text-gray-600",children:"The seller contacts the hotel to change the reservation name. Request confirmation directly from the hotel."})]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-green-100 text-green-700 text-sm font-semibold flex-shrink-0",children:"4"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Get all confirmations"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Collect written confirmation for both the race entry and hotel booking in your name."})]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-green-100 text-green-700 text-sm font-semibold flex-shrink-0",children:"5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Complete payment"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pay only after receiving all confirmations. Use PayPal or bank transfer for safety."})]})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"Tip:"})," For packages, consider splitting the payment â€” partial after bib confirmation, remainder after hotel confirmation."]})})]})]})]}),e.jsxs("div",{className:"space-y-6 lg:sticky lg:top-6",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-[0_2px_8px_rgba(0,0,0,0.15)] overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-5 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${s.listing_type==="room"?"bg-blue-100 text-blue-700":s.listing_type==="bib"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:s.listing_type==="room"?"Room Only":s.listing_type==="bib"?"Bib Only":"Room + Bib"}),a&&!n&&s.status==="active"&&e.jsxs(h.Form,{method:"post",action:"/api/saved",children:[e.jsx("input",{type:"hidden",name:"listingId",value:s.id}),e.jsx("input",{type:"hidden",name:"action",value:d?"unsave":"save"}),e.jsx("button",{type:"submit",className:`p-2 rounded-full transition-colors ${d?"text-red-500 bg-red-50 hover:bg-red-100":"text-gray-400 bg-gray-100 hover:bg-gray-200 hover:text-gray-600"}`,title:d?"Remove from saved":"Save listing",children:e.jsx("svg",{className:"h-5 w-5",fill:d?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]})]}),e.jsx("h1",{className:"font-display text-xl font-bold text-gray-900 leading-tight",children:s.event.name}),e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("svg",{className:"h-4 w-4 text-gray-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{children:k})]}),e.jsx("div",{className:"mt-4",children:s.status==="active"?e.jsxs("span",{className:"inline-flex items-center gap-1.5 text-sm font-medium text-green-700",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"}),"Active listing"]}):s.status==="pending"?n?e.jsxs("div",{className:"rounded-lg bg-yellow-50 border border-yellow-200 px-4 py-3",children:[e.jsx("p",{className:"text-sm font-semibold text-yellow-800",children:"Pending review"}),e.jsx("p",{className:"text-xs text-yellow-700 mt-0.5",children:"Your listing is being reviewed by our team. We'll notify you once it's approved."})]}):e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-600",children:"Listing unavailable"}):s.status==="rejected"?n?e.jsxs("div",{className:"rounded-lg bg-red-50 border border-red-200 px-4 py-3",children:[e.jsx("p",{className:"text-sm font-semibold text-red-800",children:"Listing not approved"}),s.admin_note&&e.jsx("p",{className:"text-xs text-red-700 mt-0.5",children:s.admin_note}),e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Please contact us if you have questions."})]}):e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-600",children:"Listing unavailable"}):e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-600",children:s.status==="sold"?"Sold":"Expired"})})]}),e.jsx("div",{className:"px-5 py-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-brand-100 text-brand-700 font-semibold flex-shrink-0",children:((u=s.author.company_name)==null?void 0:u.charAt(0))||((b=s.author.full_name)==null?void 0:b.charAt(0))||"?"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("p",{className:"font-semibold text-gray-900 truncate text-sm",children:s.author.company_name||s.author.full_name}),s.author.is_verified&&e.jsx("svg",{className:"h-4 w-4 text-brand-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.author.user_type==="tour_operator"?"Tour Operator":"Private Seller",s.author.is_verified&&" Â· Verified"]})]})]})}),e.jsxs("div",{className:"p-5",children:[e.jsx("div",{className:"text-center",children:s.listing_type==="bib"||s.listing_type==="room_and_bib"?s.associated_costs?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Associated costs"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["â‚¬",s.associated_costs.toLocaleString()]}),s.cost_notes&&e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:s.cost_notes})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xl font-semibold text-gray-600 mb-1",children:"Contact for price"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Price details available from seller"})]}):s.price?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["â‚¬",s.price.toLocaleString()]}),s.price_negotiable&&e.jsx("p",{className:"mt-1 text-sm text-green-600 font-medium",children:"Price negotiable"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xl font-semibold text-gray-600 mb-1",children:"Contact for price"}),e.jsx("p",{className:"text-xs text-gray-500",children:_})]})}),(c==null?void 0:c.error)&&e.jsx("div",{className:"rounded-lg bg-red-50 p-3 text-sm text-red-700 mb-4",children:c.error}),s.status==="active"&&!n&&e.jsxs(i,{to:`/listings/${s.id}/contact`,className:"btn-primary w-full text-base py-3.5 font-semibold rounded-full shadow-lg shadow-brand-500/25 hidden md:block text-center",children:["Contact ",s.author.company_name||((j=s.author.full_name)==null?void 0:j.split(" ")[0])||"Seller"]}),n&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{to:`/listings/${s.id}/edit`,className:"btn-secondary w-full block text-center",children:"Edit Listing"}),e.jsxs(B,{method:"post",onSubmit:r=>{confirm("Are you sure you want to delete this listing? This action cannot be undone.")||r.preventDefault()},children:[e.jsx("input",{type:"hidden",name:"_action",value:"delete"}),e.jsx("button",{type:"submit",className:"w-full px-4 py-2.5 text-sm font-medium text-red-600 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 hover:text-red-700 transition-colors",children:"Delete Listing"})]})]}),!a&&s.status==="active"&&e.jsx(i,{to:`/login?redirectTo=/listings/${s.id}`,className:"btn-primary w-full block text-center py-3.5 font-semibold shadow-lg shadow-brand-500/25",children:"Login to Contact"})]})]}),e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-[0_2px_8px_rgba(0,0,0,0.15)] overflow-hidden",children:[e.jsxs("button",{onClick:()=>w(!m),className:"w-full p-4 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e.jsx("span",{className:"font-medium text-gray-900",children:"Safety & Payments"})]}),e.jsx("svg",{className:`h-5 w-5 text-gray-400 transition-transform ${m?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&e.jsxs("div",{className:"px-4 pb-4",children:[e.jsxs("ul",{className:"text-sm text-gray-700 space-y-2 mt-3",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-brand-500 flex-shrink-0",children:"â€¢"}),e.jsx("span",{children:"Always verify seller identity before payment"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-brand-500 flex-shrink-0",children:"â€¢"}),e.jsx("span",{children:"Use secure payment methods (PayPal, bank transfer)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-brand-500 flex-shrink-0",children:"â€¢"}),e.jsx("span",{children:"Get written confirmation of all details"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-brand-500 flex-shrink-0",children:"â€¢"}),e.jsx("span",{children:"Report suspicious activity immediately"})]})]}),e.jsx(i,{to:"/safety",className:"mt-3 inline-block text-sm text-brand-600 hover:text-brand-700 font-medium",children:"Read full safety guidelines â†’"})]})]})]})]}),s.status==="active"&&!n&&e.jsx("div",{className:"fixed bottom-16 left-0 right-0 px-8 py-2.5 bg-white/95 backdrop-blur-sm border-t border-gray-200 shadow-[0_-4px_12px_rgba(0,0,0,0.1)] md:hidden z-30",children:e.jsxs(i,{to:`/listings/${s.id}/contact`,className:"btn-primary w-full text-sm py-2.5 font-semibold rounded-full shadow-lg shadow-brand-500/25 block text-center",children:["Contact ",s.author.company_name||((y=s.author.full_name)==null?void 0:y.split(" ")[0])||"Seller"]})})]}),e.jsx(F,{})]})})});export{R as default,W as meta};
