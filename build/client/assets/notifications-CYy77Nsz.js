import{w as c,u as m,j as e,F as l,L as x}from"./chunk-JZWAC4HX-Dlc7LzsC.js";const g=()=>[{title:"Notifications - Runoot"}],d={referral_signup:{bg:"bg-brand-100",color:"text-brand-600",icon:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"},referral_active:{bg:"bg-success-100",color:"text-success-600",icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},tl_promoted:{bg:"bg-purple-100",color:"text-purple-600",icon:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"},system:{bg:"bg-gray-100",color:"text-gray-600",icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},listing_approved:{bg:"bg-success-100",color:"text-success-600",icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},listing_rejected:{bg:"bg-alert-100",color:"text-alert-600",icon:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}};function h(i){const a=new Date,s=new Date(i),t=Math.floor((a.getTime()-s.getTime())/1e3);return t<60?"just now":t<3600?`${Math.floor(t/60)}m ago`:t<86400?`${Math.floor(t/3600)}h ago`:t<604800?`${Math.floor(t/86400)}d ago`:s.toLocaleDateString()}const p=c(function(){const{notifications:a}=m(),s=a.filter(t=>!t.read_at).length;return e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-2xl md:text-3xl font-bold text-gray-900",children:"Notifications"}),s>0&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s," unread"]})]}),s>0&&e.jsxs(l,{method:"post",children:[e.jsx("input",{type:"hidden",name:"_action",value:"markAllRead"}),e.jsx("button",{type:"submit",className:"text-sm text-brand-600 hover:text-brand-700 font-medium",children:"Mark all read"})]})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"divide-y divide-gray-100",children:a.length>0?a.map(t=>{var o;const r=d[t.type]||d.system,n=!t.read_at;return e.jsxs("div",{className:`p-4 flex items-start gap-3 ${n?"bg-brand-50/30":""}`,children:[e.jsx("div",{className:`w-9 h-9 rounded-full ${r.bg} flex items-center justify-center flex-shrink-0`,children:e.jsx("svg",{className:`w-4.5 h-4.5 ${r.color}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:r.icon})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${n?"font-semibold text-gray-900":"font-medium text-gray-700"}`,children:t.title}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:t.message}),((o=t.data)==null?void 0:o.listing_id)&&e.jsx(x,{to:`/listings/${t.data.listing_id}`,className:"text-xs text-brand-600 hover:text-brand-700 font-medium mt-1 inline-block",children:"View listing â†’"})]}),n&&e.jsxs(l,{method:"post",className:"flex-shrink-0",children:[e.jsx("input",{type:"hidden",name:"_action",value:"markRead"}),e.jsx("input",{type:"hidden",name:"notificationId",value:t.id}),e.jsx("button",{type:"submit",className:"w-2.5 h-2.5 rounded-full bg-brand-500 hover:bg-brand-600 transition-colors",title:"Mark as read"})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:h(t.created_at)})]})]},t.id)}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-300 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),e.jsx("p",{className:"text-sm text-gray-500",children:"No notifications yet"})]})})})]})});export{p as default,g as meta};
