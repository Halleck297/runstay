import{w as p,u,a as h,j as e,L as b,F as m}from"./chunk-JZWAC4HX-Dlc7LzsC.js";const g=()=>[{title:"Pending Approvals - Admin - Runoot"}],j={room:"Room",bib:"Bib",room_and_bib:"Room + Bib"},f={room:"bg-blue-100 text-blue-700",bib:"bg-purple-100 text-purple-700",room_and_bib:"bg-accent-100 text-accent-700"},N=p(function(){const{listings:r,pendingCount:a}=u(),s=h();return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"font-display text-2xl md:text-3xl font-bold text-gray-900",children:"Pending Approvals"}),a>0&&e.jsx("span",{className:"flex h-7 min-w-[1.75rem] items-center justify-center rounded-full bg-accent-500 px-2 text-sm font-bold text-white",children:a})]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Review and approve listings before they go live"})]}),s&&s.success&&e.jsx("div",{className:`mb-6 rounded-lg border px-4 py-3 text-sm font-medium ${s.action==="approved"?"bg-success-50 border-success-200 text-success-700":"bg-alert-50 border-alert-200 text-alert-700"}`,children:s.action==="approved"?`"${s.title}" has been approved and is now live.`:`"${s.title}" has been rejected.`}),s&&s.error&&e.jsx("div",{className:"mb-6 rounded-lg border bg-red-50 border-red-200 px-4 py-3 text-sm font-medium text-red-700",children:s.error}),r.length===0?e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-success-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-success-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"font-display font-semibold text-gray-900 text-lg mb-2",children:"All clear!"}),e.jsx("p",{className:"text-gray-500 text-sm max-w-md mx-auto",children:"No listings are waiting for review. New submissions will appear here automatically."})]}):e.jsx("div",{className:"space-y-4",children:r.map(t=>{var o,n,l,d,c,i,x;return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx(b,{to:`/listings/${t.id}`,target:"_blank",className:"font-display font-semibold text-gray-900 hover:text-brand-600 transition-colors",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:["by"," ",e.jsx("span",{className:"font-medium text-gray-700",children:((o=t.author)==null?void 0:o.company_name)||((n=t.author)==null?void 0:n.full_name)})," · ",(l=t.author)==null?void 0:l.email]})]}),e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${((d=t.author)==null?void 0:d.user_type)==="tour_operator"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:((c=t.author)==null?void 0:c.user_type)==="tour_operator"?"Tour Operator":"Private"}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${f[t.listing_type]||"bg-gray-100 text-gray-600"}`,children:j[t.listing_type]||t.listing_type}),((i=t.author)==null?void 0:i.is_verified)&&e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-success-100 text-success-700",children:"Verified"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-600 mb-4",children:[t.event&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsxs("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.event.name," · ",t.event.country]}),((x=t.event)==null?void 0:x.event_date)&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Event: ",new Date(t.event.event_date).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Submitted: ",new Date(t.created_at).toLocaleDateString()]}),t.price&&e.jsxs("span",{className:"font-medium text-gray-900",children:[t.currency," ",t.price.toLocaleString(),t.price_negotiable&&" (negotiable)"]})]}),t.description&&e.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-500 mb-4",children:[t.hotel_name&&e.jsxs("span",{className:"bg-gray-50 px-2 py-1 rounded",children:["Hotel: ",t.hotel_name,t.hotel_stars&&` (${t.hotel_stars}★)`]}),t.room_count&&e.jsxs("span",{className:"bg-gray-50 px-2 py-1 rounded",children:[t.room_count," room",t.room_count>1?"s":""]}),t.bib_count&&e.jsxs("span",{className:"bg-gray-50 px-2 py-1 rounded",children:[t.bib_count," bib",t.bib_count>1?"s":""]}),t.transfer_type&&e.jsxs("span",{className:"bg-gray-50 px-2 py-1 rounded",children:["Transfer: ",t.transfer_type.replace("_"," ")]})]}),e.jsx("div",{className:"border-t border-gray-100 pt-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(m,{method:"post",className:"flex-1",children:[e.jsx("input",{type:"hidden",name:"_action",value:"approve"}),e.jsx("input",{type:"hidden",name:"listingId",value:t.id}),e.jsx("textarea",{name:"adminNote",placeholder:"Optional note (visible to user)...",className:"input w-full mb-2 text-sm",rows:2}),e.jsxs("button",{type:"submit",className:"btn-primary w-full flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Approve"]})]}),e.jsxs(m,{method:"post",className:"flex-1",children:[e.jsx("input",{type:"hidden",name:"_action",value:"reject"}),e.jsx("input",{type:"hidden",name:"listingId",value:t.id}),e.jsx("textarea",{name:"adminNote",placeholder:"Reason for rejection (shown to user)...",className:"input w-full mb-2 text-sm",rows:2}),e.jsxs("button",{type:"submit",className:"w-full py-2.5 px-4 rounded-lg bg-red-100 text-red-700 hover:bg-red-200 font-medium text-sm transition-colors flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Reject"]})]})]})})]},t.id)})})]})});export{N as default,g as meta};
